#-- Startup ----------------------------------------------------
## Fix anyrun
## https://github.com/anyrun-org/anyrun/issues/153
exec-once = ln -s "$XDG_RUNTIME_DIR/hypr" /tmp/hypr

# 导入环境变量到 systemd user session
# 这一步必须在所有依赖 WAYLAND_DISPLAY 的服务之前执行
exec-once = systemctl --user import-environment DISPLAY WAYLAND_DISPLAY XDG_SESSION_TYPE HYPRLAND_INSTANCE_SIGNATURE XDG_CURRENT_DESKTOP

# 重启 portal 服务（它们可能因为缺少 DISPLAY 而失败）
# portal-gtk 必须先启动，因为 xdg-desktop-portal 依赖它
exec-once = systemctl --user restart xdg-desktop-portal-gtk.service xdg-desktop-portal-hyprland.service xdg-desktop-portal.service

# 等待 portal 完全启动后再启动 waybar（waybar 依赖 portal）
exec-once = sleep 1 && systemctl --user restart waybar.service hypridle.service

## Launch my daily-used apps at startup
exec-once = obsidian
exec-once = typora
# Terminals
exec-once = kitty
exec-once = alacritty
# Code
exec-once = code
# Network
exec-once = clash-verge &
# Browsers
exec-once = microsoft-edge
exec-once = microsoft-edge



